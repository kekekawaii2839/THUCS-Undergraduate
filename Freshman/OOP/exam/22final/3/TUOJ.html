<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<body>
	<app-root ng-version="14.1.2"><app-nav _nghost-jyw-c83="">
		</app-nav>
		<div class="container"><router-outlet></router-outlet><app-contest-nav><router-outlet></router-outlet><app-contest-problem>
					<div class="page-header">
						<h1>小小军的作业</h1>
					</div>
					<div class="row">
						<div class="col-md-40 col-sm-12">
							<div class="panel panel-default">
								<div class="panel-body"><button class="btn btn-default pull-right"> 刷新 <i
											class="glyphicon glyphicon-refresh"></i></button>
									<markdown katex="" clipboard="">
										<h2>题目背景</h2>
										<p>小军是一名优秀的大学生，他的弟弟小小军是一名优秀的小学生。最近，小小军在学习四则运算，为了帮小小军检查作业，小军要写一个程序来计算一些表达式的值，请你帮帮他。
										</p>
										<h2>题目描述</h2>
										<p>小小军的作业总共包含三种类型的表达式：</p>
										<ul>
											<li>
												<p>A 类表达式：<span><span class="katex"><span class="katex-mathml"><math
																	xmlns="http://www.w3.org/1998/Math/MathML">
																	<semantics>
																		<mrow>
																			<mi>x</mi>
																			<mo>×</mo>
																			<mi>x</mi>
																			<mo>+</mo>
																			<mi>y</mi>
																			<mo>×</mo>
																			<mi>y</mi>
																			<mo>+</mo>
																			<mi>z</mi>
																			<mo>×</mo>
																			<mi>z</mi>
																		</mrow>
																		<annotation encoding="application/x-tex">x
																			\times x + y \times y + z \times z
																		</annotation>
																	</semantics>
																</math></span><span class="katex-html"
																aria-hidden="true"><span class="base"><span
																		class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal">x</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal">x</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">+</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.7778em; vertical-align: -0.1944em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.0359em;">y</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.7778em; vertical-align: -0.1944em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.0359em;">y</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">+</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.044em;">z</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.4306em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.044em;">z</span></span></span></span></span>；
												</p>
											</li>
											<li>
												<p>B 类表达式：<span><span class="katex"><span class="katex-mathml"><math
																	xmlns="http://www.w3.org/1998/Math/MathML">
																	<semantics>
																		<mrow>
																			<mi>x</mi>
																			<mo>×</mo>
																			<mi>y</mi>
																			<mo>+</mo>
																			<mi>y</mi>
																			<mo>÷</mo>
																			<mi>z</mi>
																			<mo>−</mo>
																			<mi>x</mi>
																			<mo>×</mo>
																			<mi>z</mi>
																		</mrow>
																		<annotation encoding="application/x-tex">x
																			\times y + y \div z -x \times z</annotation>
																	</semantics>
																</math></span><span class="katex-html"
																aria-hidden="true"><span class="base"><span
																		class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal">x</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.7778em; vertical-align: -0.1944em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.0359em;">y</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">+</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.7778em; vertical-align: -0.1944em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.0359em;">y</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">÷</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.044em;">z</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">−</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal">x</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.4306em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.044em;">z</span></span></span></span></span>；
												</p>
											</li>
											<li>
												<p>C 类表达式：<span><span class="katex"><span class="katex-mathml"><math
																	xmlns="http://www.w3.org/1998/Math/MathML">
																	<semantics>
																		<mrow>
																			<mi>y</mi>
																			<mo>×</mo>
																			<mn>3</mn>
																			<mo>×</mo>
																			<mi>z</mi>
																			<mo>−</mo>
																			<mi>x</mi>
																			<mo>×</mo>
																			<mi>z</mi>
																			<mo>÷</mo>
																			<mrow>
																				<mo fence="true">(</mo>
																				<mi>y</mi>
																				<mo>−</mo>
																				<mn>2</mn>
																				<mo fence="true">)</mo>
																			</mrow>
																			<mo>−</mo>
																			<mi>x</mi>
																			<mo>×</mo>
																			<mi>y</mi>
																			<mo>÷</mo>
																			<mrow>
																				<mo fence="true">(</mo>
																				<mi>z</mi>
																				<mo>+</mo>
																				<mn>1</mn>
																				<mo fence="true">)</mo>
																			</mrow>
																		</mrow>
																		<annotation encoding="application/x-tex">y
																			\times 3 \times z - x \times z \div \left(y
																			- 2\right) - x \times y \div \left(z +
																			1\right)</annotation>
																	</semantics>
																</math></span><span class="katex-html"
																aria-hidden="true"><span class="base"><span
																		class="strut"
																		style="height: 0.7778em; vertical-align: -0.1944em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.0359em;">y</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
																		class="mord">3</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.044em;">z</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">−</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal">x</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.044em;">z</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">÷</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 1em; vertical-align: -0.25em;"></span><span
																		class="minner"><span class="mopen delimcenter"
																			style="top: 0em;">(</span><span
																			class="mord mathnormal"
																			style="margin-right: 0.0359em;">y</span><span
																			class="mspace"
																			style="margin-right: 0.2222em;"></span><span
																			class="mbin">−</span><span class="mspace"
																			style="margin-right: 0.2222em;"></span><span
																			class="mord">2</span><span
																			class="mclose delimcenter"
																			style="top: 0em;">)</span></span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">−</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																		class="mord mathnormal">x</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">×</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 0.7778em; vertical-align: -0.1944em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.0359em;">y</span><span
																		class="mspace"
																		style="margin-right: 0.2222em;"></span><span
																		class="mbin">÷</span><span class="mspace"
																		style="margin-right: 0.2222em;"></span></span><span
																	class="base"><span class="strut"
																		style="height: 1em; vertical-align: -0.25em;"></span><span
																		class="minner"><span class="mopen delimcenter"
																			style="top: 0em;">(</span><span
																			class="mord mathnormal"
																			style="margin-right: 0.044em;">z</span><span
																			class="mspace"
																			style="margin-right: 0.2222em;"></span><span
																			class="mbin">+</span><span class="mspace"
																			style="margin-right: 0.2222em;"></span><span
																			class="mord">1</span><span
																			class="mclose delimcenter"
																			style="top: 0em;">)</span></span></span></span></span></span>；
												</p>
											</li>
										</ul>
										<p>共有 <span><span class="katex"><span class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mi>N</mi>
																</mrow>
																<annotation encoding="application/x-tex">N</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.6833em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.109em;">N</span></span></span></span></span>
											道题目，每道题目会给定一个表达式类型和一组 <span><span class="katex"><span
														class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mi>x</mi>
																	<mo separator="true">,</mo>
																	<mi>y</mi>
																	<mo separator="true">,</mo>
																	<mi>z</mi>
																</mrow>
																<annotation encoding="application/x-tex">x, y, z
																</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.625em; vertical-align: -0.1944em;"></span><span
																class="mord mathnormal">x</span><span
																class="mpunct">,</span><span class="mspace"
																style="margin-right: 0.1667em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.0359em;">y</span><span
																class="mpunct">,</span><span class="mspace"
																style="margin-right: 0.1667em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.044em;">z</span></span></span></span></span>
											的值，请你求出对应表达式的值。</p>
										<p><strong>你需要支持整数、分数两种数据类型：</strong>在使用整数类型计算时，上述除号（<span><span
													class="katex"><span class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mo>÷</mo>
																</mrow>
																<annotation encoding="application/x-tex">\div
																</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
																class="mord">÷</span></span></span></span></span>）视作整除运算（即
											c++ 中 <code>int</code> 类型的 <code>/</code> 运算）；在使用分数类型计算时，你需要输出最简分数。</p>
										<h2>要求</h2>
										<p>小军已经完成了主程序 <code>main.cpp</code>（从<a
												href="https://oj.cs.tsinghua.edu.cn/staticdata/1809.hIrl5RyHHOKalVzD.pub/1htsvJIBZnrqEcP0.%E5%BD%92%E6%A1%A3.zip/%E5%BD%92%E6%A1%A3.zip">这里</a>下载），你需要在不改动这些文件的情况下，提供其他文件（包括<code>calculate.h</code>，<code>Fraction.h</code>，<code>Fraction.cpp</code>），来完整实现题目的要求。
										</p>
										<h2>输入输出格式</h2>
										<h3>输入</h3>
										<p>第一行一个整数 <span><span class="katex"><span class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mi>N</mi>
																</mrow>
																<annotation encoding="application/x-tex">N</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.6833em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.109em;">N</span></span></span></span></span>，表示题目的数量。
										</p>
										<p>接下来 <span><span class="katex"><span class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mi>N</mi>
																</mrow>
																<annotation encoding="application/x-tex">N</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.6833em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.109em;">N</span></span></span></span></span>
											行，每行描述一个表达式：</p>
										<ul>
											<li>
												<p>以 <code>A</code>、<code>B</code>、<code>C</code> 的其中之一开头，表示表达式的类型；</p>
											</li>
											<li>
												<p>紧跟着三个整数 <span><span class="katex"><span class="katex-mathml"><math
																	xmlns="http://www.w3.org/1998/Math/MathML">
																	<semantics>
																		<mrow>
																			<mi>x</mi>
																			<mo separator="true">,</mo>
																			<mi>y</mi>
																			<mo separator="true">,</mo>
																			<mi>z</mi>
																		</mrow>
																		<annotation encoding="application/x-tex">x, y, z
																		</annotation>
																	</semantics>
																</math></span><span class="katex-html"
																aria-hidden="true"><span class="base"><span
																		class="strut"
																		style="height: 0.625em; vertical-align: -0.1944em;"></span><span
																		class="mord mathnormal">x</span><span
																		class="mpunct">,</span><span class="mspace"
																		style="margin-right: 0.1667em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.0359em;">y</span><span
																		class="mpunct">,</span><span class="mspace"
																		style="margin-right: 0.1667em;"></span><span
																		class="mord mathnormal"
																		style="margin-right: 0.044em;">z</span></span></span></span></span>；
												</p>
											</li>
											<li>
												<p>最后为 <code>int</code>、<code>fraction</code>
													的其中之一，表示数据类型（前者表示整数类型，后者表示分数类型）。</p>
											</li>
											<li>
												<p>以上各项内容以单个空格分隔。</p>
											</li>
										</ul>
										<h2>输入输出样例</h2>
										<p>输出 <span><span class="katex"><span class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mi>N</mi>
																</mrow>
																<annotation encoding="application/x-tex">N</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.6833em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.109em;">N</span></span></span></span></span>
											行，依次为每道题目的答案。对于要求使用分数类型的题目，输出结果应当使用 <code>/</code> 直接分割分子与分母（如
											<code>1/2</code>，<code>-3/5</code> 等），且需要化简为最简形式（如 <code>2/4</code> 应化为
											<code>1/2</code>，<code>1/1</code> 应化为 <code>1</code>）。</p>
										<h3>输入</h3>
										<div style="position: relative;">
											<pre class="language-none" tabindex="0"><code class="language-none">4
A 1 2 3 int
B -4 5 -2 int
C 98 99 100 fraction
B 1 1 1 fraction
</code></pre>
											<div
												style="position: absolute; top: 0.5em; right: 0.5em; opacity: 0; transition: opacity 250ms ease-out 0s;">
												<app-copy-button><button class="btn btn-default btn-sm"><i
															class="glyphicon glyphicon-copy"></i></button></app-copy-button>
											</div>
										</div>
										<h3>输出</h3>
										<div style="position: relative;">
											<pre class="language-none" tabindex="0"><code class="language-none">14
-30
289040006/9797
1
</code></pre>
											<div
												style="position: absolute; top: 0.5em; right: 0.5em; opacity: 0; transition: opacity 250ms ease-out 0s;">
												<app-copy-button><button class="btn btn-default btn-sm"><i
															class="glyphicon glyphicon-copy"></i></button></app-copy-button>
											</div>
										</div>
										<h2>数据规模</h2>
										<p>对于 50% 的测试点，保证仅包含 A 类表达式，且数据类型一定为 <code>int</code>（整数类型）。</p>
										<p>对于 80% 的测试点，保证仅包含 A、B 类表达式。</p>
										<p>对于所有测试点，保证 <span><span class="katex"><span class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mi>N</mi>
																	<mo>≤</mo>
																	<mn>1</mn>
																	<mo separator="true">,</mo>
																	<mn>000</mn>
																</mrow>
																<annotation encoding="application/x-tex">N\leq 1,000
																</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.8193em; vertical-align: -0.136em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.109em;">N</span><span
																class="mspace"
																style="margin-right: 0.2778em;"></span><span
																class="mrel">≤</span><span class="mspace"
																style="margin-right: 0.2778em;"></span></span><span
															class="base"><span class="strut"
																style="height: 0.8389em; vertical-align: -0.1944em;"></span><span
																class="mord">1</span><span class="mpunct">,</span><span
																class="mspace"
																style="margin-right: 0.1667em;"></span><span
																class="mord">000</span></span></span></span></span>，且
											<span><span class="katex"><span class="katex-mathml"><math
															xmlns="http://www.w3.org/1998/Math/MathML">
															<semantics>
																<mrow>
																	<mi>x</mi>
																	<mo separator="true">,</mo>
																	<mi>y</mi>
																	<mo separator="true">,</mo>
																	<mi>z</mi>
																</mrow>
																<annotation encoding="application/x-tex">x, y, z
																</annotation>
															</semantics>
														</math></span><span class="katex-html" aria-hidden="true"><span
															class="base"><span class="strut"
																style="height: 0.625em; vertical-align: -0.1944em;"></span><span
																class="mord mathnormal">x</span><span
																class="mpunct">,</span><span class="mspace"
																style="margin-right: 0.1667em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.0359em;">y</span><span
																class="mpunct">,</span><span class="mspace"
																style="margin-right: 0.1667em;"></span><span
																class="mord mathnormal"
																style="margin-right: 0.044em;">z</span></span></span></span></span>
											的绝对值不超过 100。</p>
										<p>对于所有测试点，保证所有表达式在计算过程中不会出现除数为零的情况。</p>
										<h2>提交格式</h2>
										<p>你需要提交<code>calculate.h</code>、<code>Fraction.h</code>、<code>Fraction.cpp</code>三个文件。我们会将你提交的文件和我们预先设置好的<code>main.cpp</code>、<code>makefile</code>一起编译运行。
										</p>
										<h2>评分标准</h2>
										<p>考试100%为OJ评分。</p>
										<h2>提示</h2>
										<p>在最简分数的化简时，需要将分子、分母同时除以它们的最大公约数。正整数的最大公约数求解可以参考如下代码（该 <code>gcd</code>
											函数的返回值即为 <code>a</code> 与 <code>b</code> 的最大公约数）：</p>
										<div style="position: relative;">
											<pre class="language-none" tabindex="0"><code class="language-none">int gcd(int a, int b){
    return b ? gcd(b, a % b) : a;
}
</code></pre>
											<div
												style="position: absolute; top: 0.5em; right: 0.5em; opacity: 0; transition: opacity 250ms ease-out 0s;">
												<app-copy-button><button class="btn btn-default btn-sm"><i
															class="glyphicon glyphicon-copy"></i></button></app-copy-button>
											</div>
										</div>
										<p>当然，你也可以通过其他方法自己实现最简分数的化简功能。</p>
										<p>如果程序运行中出现 <code>int</code> 型整数溢出的情况，可以考虑使用 <code>long long</code> 类型。</p>
									</markdown><!---->
								</div>
							</div><!---->
						</div>
						<div class="col-md-8 col-sm-12">
							<div class="panel panel-default">
								<div class="panel-heading">语言和编译选项</div>
								<table class="table table-hover table-striped">
									<thead>
										<tr>
											<th class="text-center">#</th>
											<th class="text-center">名称</th>
											<th class="text-center">编译器</th>
											<th class="text-center">额外参数</th>
											<th class="text-center">代码长度限制</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td class="text-center">0</td>
											<td class="text-center">custom</td>
											<td><code>make</code></td>
											<td><!----></td>
											<td class="text-center">10000 B</td>
										</tr><!---->
									</tbody>
								</table>
							</div><!----><!---->
						</div>
					</div>
				</app-contest-problem><!---->
			</app-contest-nav><!----></div>
	</app-root>
</body>

</html>